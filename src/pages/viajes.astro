---
import { info } from "@data/data.json";
import { trips } from "@data/trips.json";
import Layout from "@layouts/Layout.astro";
import SectionContainer from "@components/SectionContainer.astro";
import ButtonUp from "@components/ButtonUp.astro";
---

<Layout
  title=`Viajes ${info.name}`
  description=`Viajá con nosotros a disfrutar de los mejores sitios de buceo del mundo, Tel.: ${info.phone}, mail: ${info.email}`
>
  <SectionContainer class="pt-3 pb-6">
    <h1 class="pb-3">
      {`Cumplimos ${new Date().getFullYear() - 1986} años llevando gente a bucear!!!`}
    </h1>

    <div class="trips__gallery">
      {
        trips.map((trip) => {
          const src = `/img/viajes/${trip.img}`;
          const alt = `${trip.name}`;
          const withTitle = trip.withTitle;
          const name = trip.name;

          return (
            <article>
              <img src={src} alt={alt} loading="lazy" />
              {!withTitle && (
                <div>
                  <h2>{name}</h2>
                  <h3>
                    <span>ATLANTIDA</span> Más que una Escuela de <span>BUCEO</span>
                  </h3>
                </div>
              )}
            </article>
          );
        })
      }
    </div>
  </SectionContainer>
  <ButtonUp />
</Layout>

<style lang="scss">
  @import "@styles/variables";

  .trips {
    &__gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(0px, 380px));
      gap: 4px;
      width: 100%;
      justify-content: center;

      article {
        position: relative;

        img {
          position: relative;
          display: block;
          width: 100%;
          height: 100%;
          object-fit: contain;
          background: #000;
        }

        div {
          position: absolute;
          bottom: 0;
          width: 100%;

          h2 {
            height: 30px;
            line-height: 34px;
            padding-left: 4px;
            background: linear-gradient(to top, rgba($color-primary, 1) 45%, rgba($color-primary, 0) 100%);
            font-family: $font-family;
            font-weight: 400;
            font-size: 16px;
            text-align: left;
            color: $font-color-min;
            border-bottom: 2px solid $color-body-primary;
          }

          h3 {
            height: 29px;
            padding-left: 4px;
            background: linear-gradient(to bottom, rgba($color-secondary, 1) 60%, rgba($color-secondary, 0) 100%);
            font-family: $font-family;
            font-weight: 400;
            font-size: 16px;
            text-align: left;
            color: $font-color-min;

            span {
              font-family: "OstrichSans-Heavy";
              font-size: 20px;
            }
          }
        }
      }
    }
  }
</style>
